<!DOCTYPE html>
<html>
<head>
<script src="jquery.js"></script>
<script type="text/javascript">
  $( document ).ready(function() {
    screen_width = $( window ).width()
    screen_height = $( window ).height()
    mother_symbol_images = []
    aurobindo_symbol = $('img.centered')[0]
    centeredImagePostion = {
                             left:(screen_width/2) - (aurobindo_symbol.width/2), //aurobindo_symbol.offsetLeft,
                             top:(screen_height/2) - (aurobindo_symbol.height/2),//aurobindo_symbol.offsetTop,
                             right:(screen_width/2) + (aurobindo_symbol.width/2),//aurobindo_symbol.offsetLeft + 358,
                             bottom:(screen_height/2) + (aurobindo_symbol.height/2) //aurobindo_symbol.offsetTop + 333,
                           }

    function getNewPosition(){
      if ($('img.mother_symbol').length == 0) {
        x = 0, y = 0
      } else{
      x = Math.floor(Math.random () * (screen_width - 115))
      y = Math.floor(Math.random () * (screen_height - 115))
      };
      return [x,y]
    }
    newPosition = getNewPosition()
    dimensions = dimensionOfImage()
    function dimensionOfImage(){
      size = Math.floor(Math.random() * 6) + 5
      width = height = Math.floor(screen_width * size / 100)
      return [width,height]
    }
    drawImage();
    mother_symbol_images.push({
                                left:newPosition[0],
                                top:newPosition[1],
                                right:newPosition[0] + dimensions[0],
                                bottom:newPosition[1]+dimensions[1]
                              })
    function drawImage(){
      console.log('Drawing image :)')
      var img = $('<img class="mother_symbol">');
      img.attr('src', 'mother_symbol.png');
      img.css({
        "left": (newPosition[0]) + "px",
        "top": (newPosition[1]) + "px",
        "width": (dimensions[0]) + "px",
        "height": (dimensions[1]) + "px",
        "display": "none"
      });
      img.css('opacity', 1)
      img.appendTo('body')
    }
      for (var i = 0; i < 1000; i++) {
        console.log("i : " + i)
        newPosition = getNewPosition()
        dimensions = dimensionOfImage()
        newImagePostion = {
                            left:newPosition[0], 
                            top:newPosition[1],
                            right:(newPosition[0] + dimensions[0]),
                            bottom:(newPosition[1] + dimensions[1])
                          }
        total_symbols = mother_symbol_images.length
        count = 0
        $.each(mother_symbol_images, function( index, value ) {
          console.log(index + ':' + value)
          if(intersectRect(value,newImagePostion)){
            console.log('intersectRect')
            return false
          }
          else{
            console.log('we can drawImage')
            count += 1
           }
          if(total_symbols == count){
            if(intersectRect(centeredImagePostion,newImagePostion)) {
            }
            else{
              drawImage()
              mother_symbol_images.push(newImagePostion)
            };
            return false
            }
          // }
        });
        if($('img').length == 50 || i == 999){
          $('img.mother_symbol').fadeIn(5000);
          return false;
        }
      };
      function intersectRect(r1, r2) {
        return !(r2.left > r1.right || 
        r2.right < r1.left || 
        r2.top > r1.bottom ||
        r2.bottom < r1.top);
      }
  });
// a = $('img.mother_symbol').css( "display", "none" ).fadeIn(5000);
// a.fadeIn(5000)
// $('img.mother_symbol').delay(100).css( "display", "block" );
</script>

<style>
body{
  background-color: #f5efdc;
}
img.mother_symbol{
  position: fixed;
  /*opacity: 0.5;*/
  /*-webkit-transition: opacity 1s ease-in;*/

  -webkit-animation-name: myfirst;
  -webkit-animation-duration: 5s;
  -webkit-animation-timing-function: linear;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-direction: alternate;
  -webkit-animation-play-state: running;
  -webkit-transform: scale(1,1);
  /*-webkit-animation: fadein 2s;*/
  /*moz*/
  -moz-animation-name: myfirst;
  -moz-animation-duration: 5s;
  -moz-animation-timing-function: linear;
  -moz-animation-iteration-count: infinite;
  -moz-animation-direction: alternate;
  -moz-animation-play-state: running;
  -moz-transform: scale(1,1);
  /*standard*/
  animation-name: myfirst;
  animation-duration: 5s;
  animation-timing-function: linear;
  animation-iteration-count: infinite;
  animation-direction: alternate;
  animation-play-state: running;
  transform: scale(1,1);
  /*ms*/
  -ms-animation-name: myfirst;
  -ms-animation-duration: 5s;
  -ms-animation-timing-function: linear;
  -ms-animation-iteration-count: infinite;
  -ms-animation-direction: alternate;
  -ms-animation-play-state: running;
  -ms-transform: scale(1,1);
}

@-webkit-keyframes myfirst {
  from {-webkit-transform: scale(1,1);}
  to {-webkit-transform: scale(0.5,0.5);}
}
@-moz-keyframes myfirst {
  from {-moz-transform: scale(1,1);}
  to {-moz-transform: scale(0.5,0.5);}
}
@keyframes myfirst {
  from {transform: scale(1,1);}
  to {transform: scale(0.5,0.5);}
}
@-ms-keyframes myfirst {
  from {-ms-transform: scale(1,1);}
  to {-ms-transform: scale(0.5,0.5);}
}
.centered {
  position: fixed; /* or absolute */
  top: 50%;
  left: 50%;
  height: auto;
  -webkit-transform: translate(-50%, -50%);
  -moz-transform: translate(-50%, -50%);
  -ms-transform: translate(-50%, -50%);
  transform: translate(-50%, -50%);
}
.mother_symbol:hover {
    -webkit-animation: rotating 1s linear infinite;
    -moz-animation: rotating 1s linear infinite;
    -ms-animation: rotating 1s linear infinite;
}
@-webkit-keyframes rotating {
    from{
        -webkit-transform: rotate(0deg);
    }
    to{
        -webkit-transform: rotate(360deg);
    }
}
@-moz-keyframes rotating {
    from{
        -moz-transform: rotate(0deg);
    }
    to{
        -moz-transform: rotate(360deg);
    }
}
@keyframes rotating {
    from{
        transform: rotate(0deg);
    }
    to{
        transform: rotate(360deg);
    }
}
@-ms-keyframes rotating {
    from{
        -ms-transform: rotate(0deg);
    }
    to{
        -ms-transform: rotate(360deg);
    }
}
</style>
</head>
<body>
  <img src="aurobindo_symbol.png" class="centered" style="background-color: #f5efdc;">
</body>
</html>
