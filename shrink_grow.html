<!DOCTYPE html>
<html>
<head>
<script src="jquery.js"></script>
<script type="text/javascript">
  $( document ).ready(function() {
    screen_width = $( window ).width() - 100
    screen_height = $( window ).height() - 100
    mother_symbol_images = []
    function getNewPosition(){
      x = Math.floor(Math.random () * screen_width)
      y = Math.floor(Math.random () * screen_height)
      return [x,y]
    }
    newPosition = getNewPosition()
    dimensions = dimensionOfImage()
    function dimensionOfImage(){
      size = Math.floor(Math.random() * 6) + 5
      width = height = Math.floor(screen_width * size / 100)
      return [width,height]
    }
    drawImage();
    mother_symbol_images.push({
                                left:newPosition[0],
                                top:newPosition[1],
                                right:newPosition[0] + dimensions[0],
                                bottom:newPosition[1]+dimensions[1]
                              })
    function drawImage(){
      console.log('Drawing image :)')
      var img = $('<img class="mother_symbol">');
      img.attr('src', 'mother_symbol.png');
      img.css({
        "left": (newPosition[0]) + "px",
        "top": (newPosition[1]) + "px",
        "width": (dimensions[0]) + "px",
        "height": (dimensions[1]) + "px",
      });
      img.css('opacity', 1)
      img.appendTo('body')
    }

      for (var i = 0; i < 1000; i++) {
        console.log("i : " + i)
        newPosition = getNewPosition()
        dimensions = dimensionOfImage()
        newImagePostion = {
                            left:newPosition[0], 
                            top:newPosition[1],
                            right:(newPosition[0] + dimensions[0]),
                            bottom:(newPosition[1] + dimensions[1])
                          }
        total_symbols = mother_symbol_images.length
        count = 0
        $.each(mother_symbol_images, function( index, value ) {
          console.log(index + ':' + value)
          if(intersectRect(value,newImagePostion)){
            console.log('intersectRect')
            return false
          }
          else{
            console.log('we can drawImage')
            count += 1
           }
           //console.log(flag)
          if(total_symbols == count){
            drawImage()
            mother_symbol_images.push(newImagePostion)
            return false};
        });
        if($('img').length == 50){ return false}
      };
      function intersectRect(r1, r2) {
        // console.log(r1)
        // console.log(r2)
        return !(r2.left > r1.right || 
        r2.right < r1.left || 
        r2.top > r1.bottom ||
        r2.bottom < r1.top);
      }
  });
</script>

<style>
body{
  background-color: #f5efdc;
}
img.mother_symbol{
  position: fixed;
  /*opacity: 0.5;*/
  /*-webkit-transition: opacity 1s ease-in;*/
  -webkit-animation-name: myfirst;
  -webkit-animation-duration: 5s;
  -webkit-animation-timing-function: linear;
  -webkit-animation-iteration-count: infinite;
  -webkit-animation-direction: alternate;
  -webkit-animation-play-state: running;
  -webkit-transform: scale(1,1);
  /*-webkit-animation: fadein 2s;*/
}

@-webkit-keyframes myfirst {
  from {-webkit-transform: scale(1,1);}
  to {-webkit-transform: scale(0.5,0.5);}
}
.centered {
  position: fixed; /* or absolute */
  top: 50%;
  left: 50%;
  max-width: 100%;
  min-width: 300px;
  height: auto;
  -webkit-transform: translate(-50%, -50%);
}
</style>
</head>
<body>
  <img src="aurobindo_symbol.png" class="centered" style="z-index: 1; background-color: #f5efdc;">
</body>
</html>
